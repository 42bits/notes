### 迭代器

- python
    ```
    可迭代对象（iterable）
    在python中可以用于for循环的都是可迭代对象
    for循环机制：
        1：调用对象的__iter__()方法，得到一个迭代器对象，
        2：不停的调用该迭代器对象的next()方法
        3：遇到StopIteration的错误，结束迭代
    只要实现的了__iter__()方法，该对象就是可迭代对象
    可迭代对象就是实现了__iter__()方法的对象，可迭代对象的__iter__()方法返回的是某个迭代器（未必是它自身
    ```

    ```
    迭代器（iterator）
    迭代器对象就是即实现了next()方法，又实现了__iter__()方法的对象，而且__iter__()方法中返回的肯定是他自身对象
    迭代器对象最根本的职责就是实现next()方法，在该方法返回下一个要迭代的元素
    迭代器对象本身就是一个可迭代对象，这个可迭代对象返回的迭代器是他自身

    ```
    *内置函数 iter() 返回一个迭代器，参数为一个支持迭代的集合对象，比如一个list,使用iter()函数得到的迭代器对象只能迭代一次，因为它的__iter__()函数肯定返回的是它自身*
    *之所以把可迭代对象和迭代器对象区分开，是因为编程的时候有对同一个可迭代对象多次进行迭代的需求*
    *同一个迭代器对象只能迭代一次的特点,所以引入了可迭代对象,用于for*

    [不分开](/image/python-iterator-iterable-no.png)
    [分开](/image/python-iterator-iterable.png)

### 生成器
- python
    > 生成器本身就是一个迭代器,可以说生成器就是生成迭代器的一个语法糖
    > 当你想定义一个迭代器时，需要写一个类，这个类要实现__iter__()方法，还要实现next()方法
    > Pytnon提供了生成器这种对象类型，可以让你方便的获得一个迭代器，这个迭代器就是生成器

    *python 中有两种生成器，一个是生成器函数，一个是生成器表达式*

    [生成器函数](/image/python-generator.png)
    ```
    生成器函数中的yield语句，并不是该生成器函数的返回值，而是根据该生成器函数生成的迭代器的next()方法的返回值
    生成器函数的返回值是一个生成器类型的迭代器对象
    ```

    [生成器表达式](/image/python-generator.md)
    ```
    生成器表达式与列表生成式类似，把列表生成式中的中括号换成圆括号即可
    ```


生成器的好处：

节省内存，用到某一个值的时候，才生成这个值。不需要把所有的值事先存放到列表里，那样数据很多的时候很浪费内存。

代码简洁，在需要一个迭代器的时候，直接使用生成器来实现，避免了繁琐的迭代器类的定义。
